@import "tailwindcss";

/* Modern Crypto Exchange Design System — Tailwind v4 */

@theme  {
  /* Semantic colors that map to utilities like bg-*, text-*, border-*, ring-* */
  --color-background: hsl(222 84% 2.9%);
  --color-foreground: hsl(210 40% 98%);
  --color-card: hsl(222 84% 4.9%);
  --color-card-foreground: hsl(210 40% 98%);
  --color-popover: hsl(222 84% 4.9%);
  --color-popover-foreground: hsl(210 40% 98%);

  /* Brand & trading colors */
  --color-primary: hsl(221 83% 53%);
  --color-primary-foreground: hsl(210 40% 98%);
  --color-primary-glow: hsl(221 83% 65%);
  --color-secondary: hsl(217.2 32.6% 17.5%);
  --color-secondary-foreground: hsl(210 40% 98%);
  --color-muted: hsl(217.2 32.6% 17.5%);
  --color-muted-foreground: hsl(215 20.2% 65.1%);
  --color-accent: hsl(280 100% 70%);
  --color-accent-foreground: hsl(210 40% 98%);

  --color-success: hsl(142 76% 36%);
  --color-success-foreground: hsl(210 40% 98%);
  --color-success-glow: hsl(142 76% 50%);
  --color-danger: hsl(0 84% 60%);
  --color-danger-foreground: hsl(210 40% 98%);
  --color-danger-glow: hsl(0 84% 70%);
  --color-warning: hsl(48 96% 53%);
  --color-warning-foreground: hsl(222 84% 4.9%);

  /* UI tokens */
  --color-border: hsl(217.2 32.6% 17.5%);
  --color-input: hsl(217.2 32.6% 17.5%);
  --color-ring: hsl(221 83% 53%);

  /* Sidebar */
  --color-sidebar-background: hsl(0 0% 98%);
  --color-sidebar-foreground: hsl(240 5.3% 26.1%);
  --color-sidebar-primary: hsl(240 5.9% 10%);
  --color-sidebar-primary-foreground: hsl(0 0% 98%);
  --color-sidebar-accent: hsl(240 4.8% 95.9%);
  --color-sidebar-accent-foreground: hsl(240 5.9% 10%);
  --color-sidebar-border: hsl(220 13% 91%);
  --color-sidebar-ring: hsl(217.2 91.2% 59.8%);

  /* Radii & shadows (tokenized for utilities like rounded-card, shadow-card) */
  --radius-DEFAULT: 0.75rem;
  --radius-card: 0.75rem;
  --shadow-card: 0 4px 24px hsl(222 84% 1% / 0.4);
}

/* One-off effects/gradients that don’t need utilities */
:root {
  --gradient-primary: linear-gradient(135deg, var(--color-primary), var(--color-accent));
  --gradient-hero: linear-gradient(135deg, hsl(222 84% 2.9%), hsl(221 83% 8%));
  --gradient-card: linear-gradient(145deg, var(--color-card), hsl(217.2 32.6% 10%));
  --gradient-glow: radial-gradient(
    circle at center,
    color-mix(in hsl, var(--color-primary-glow) 30%, transparent),
    transparent 70%
  );

  --shadow-glow: 0 0 20px color-mix(in hsl, var(--color-primary) 30%, transparent);
  --shadow-success: 0 0 20px color-mix(in hsl, var(--color-success) 30%, transparent);
  --shadow-danger: 0 0 20px color-mix(in hsl, var(--color-danger) 30%, transparent);
}

/* Dark mode: override the same tokens */
.dark {
  --color-background: hsl(222.2 84% 4.9%);
  --color-foreground: hsl(210 40% 98%);
  --color-card: hsl(222.2 84% 4.9%);
  --color-card-foreground: hsl(210 40% 98%);
  --color-popover: hsl(222.2 84% 4.9%);
  --color-popover-foreground: hsl(210 40% 98%);

  --color-primary: hsl(210 40% 98%);
  --color-primary-foreground: hsl(222.2 47.4% 11.2%);
  --color-secondary: hsl(217.2 32.6% 17.5%);
  --color-secondary-foreground: hsl(210 40% 98%);
  --color-muted: hsl(217.2 32.6% 17.5%);
  --color-muted-foreground: hsl(215 20.2% 65.1%);
  --color-accent: hsl(217.2 32.6% 17.5%);
  --color-accent-foreground: hsl(210 40% 98%);
  --color-destructive: hsl(0 62.8% 30.6%);
  --color-destructive-foreground: hsl(210 40% 98%);

  --color-border: hsl(217.2 32.6% 17.5%);
  --color-input: hsl(217.2 32.6% 17.5%);
  --color-ring: hsl(212.7 26.8% 83.9%);

  --color-sidebar-background: hsl(240 5.9% 10%);
  --color-sidebar-foreground: hsl(240 4.8% 95.9%);
  --color-sidebar-primary: hsl(224.3 76.3% 48%);
  --color-sidebar-primary-foreground: hsl(0 0% 100%);
  --color-sidebar-accent: hsl(240 3.7% 15.9%);
  --color-sidebar-accent-foreground: hsl(240 4.8% 95.9%);
  --color-sidebar-border: hsl(240 3.7% 15.9%);
  --color-sidebar-ring: hsl(217.2 91.2% 59.8%);
}

/* Base element styles */
* { @apply border-border; }
html { scroll-behavior: smooth; }
body {
  @apply bg-background text-foreground min-h-screen;
  background: var(--gradient-hero);
}

/* Custom utilities (v4) */
@utility bg-gradient-primary { background: var(--gradient-primary); }
@utility bg-gradient-hero { background: var(--gradient-hero); }
@utility bg-gradient-card { background: var(--gradient-card); }

@utility glow-primary { box-shadow: var(--shadow-glow); }
@utility glow-success { box-shadow: var(--shadow-success); }
@utility glow-danger { box-shadow: var(--shadow-danger); }

@utility crypto-card {
  @apply border border-border/20 backdrop-blur-sm transition-all duration-300;
  background: var(--gradient-card);
  box-shadow: var(--shadow-card);
}

@utility price-positive {
  @apply text-green-400;
  text-shadow: 0 0 10px color-mix(in hsl, var(--color-success-glow) 50%, transparent);
}
@utility price-negative {
  @apply text-red-400;
  text-shadow: 0 0 10px color-mix(in hsl, var(--color-danger-glow) 50%, transparent);
}
@utility price-neutral { @apply text-gray-400; }

/* Hero glow */
@utility hero-glow {
  position: absolute;
  inset: 0;
  opacity: 0.6;
  background: var(--gradient-glow);
  animation: pulse-glow 4s ease-in-out infinite;
}

/* Keyframes */
@keyframes pulse-glow {
  0%, 100% { opacity: 0.4; transform: scale(1); }
  50% { opacity: 0.8; transform: scale(1.05); }
}
@keyframes price-flash {
  0% { background-color: transparent; }
  50% { background-color: hsl(221 83% 53% / 0.2); }
  100% { background-color: transparent; }
}
@keyframes twinkle {
  0%, 100% { opacity: 0.3; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.2); }
}
@keyframes twinkle-slow {
  0%, 100% { opacity: 0.2; transform: scale(0.8); }
  50% { opacity: 0.8; transform: scale(1.1); }
}
@keyframes twinkle-fast {
  0%, 100% { opacity: 0.4; transform: scale(1); }
  25% { opacity: 1; transform: scale(1.3); }
  75% { opacity: 0.6; transform: scale(0.9); }
}
@keyframes float-slow {
  0%, 100% { transform: translateY(0px) translateX(0px); }
  25% { transform: translateY(-10px) translateX(5px); }
  50% { transform: translateY(-5px) translateX(-3px); }
  75% { transform: translateY(-8px) translateX(2px); }
}
@keyframes float-medium {
  0%, 100% { transform: translateY(0px) translateX(0px); }
  33% { transform: translateY(-15px) translateX(-8px); }
  66% { transform: translateY(-8px) translateX(6px); }
}
@keyframes float-fast {
  0%, 100% { transform: translateY(0px) translateX(0px); }
  20% { transform: translateY(-12px) translateX(4px); }
  40% { transform: translateY(-6px) translateX(-5px); }
  60% { transform: translateY(-10px) translateX(3px); }
  80% { transform: translateY(-4px) translateX(-2px); }
}

/* Animation utilities */
@utility animate-twinkle { animation: twinkle 3s ease-in-out infinite; }
@utility animate-twinkle-slow { animation: twinkle-slow 4s ease-in-out infinite; }
@utility animate-twinkle-fast { animation: twinkle-fast 2s ease-in-out infinite; }
@utility animate-float-slow { animation: float-slow 8s ease-in-out infinite; }
@utility animate-float-medium { animation: float-medium 6s ease-in-out infinite; }
@utility animate-float-fast { animation: float-fast 4s ease-in-out infinite; }
@utility price-flash { animation: price-flash 0.6s ease-out; }
